<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Proposal</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background: linear-gradient(135deg,#ff9ec4,#ffd6ec,#ffe8a3);
  background-size:400% 400%;
  animation:gradientBG 12s ease infinite;
}

/* floating hearts */
.heart{
  position:absolute;
  bottom:-20px;
  color:#ff4d88;
  animation:floatUp linear infinite;
}
@keyframes floatUp{
  from{transform:translateY(0);opacity:.8}
  to{transform:translateY(-110vh);opacity:0}
}


@keyframes gradientBG{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

.center{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}

button{
  padding:12px 24px;
  font-size:18px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  margin:10px;
  transition:.2s;
}

.yes{
  background:#ff4d88;
  color:white;
}
.yes:hover{ transform:scale(1.1); }

.no{
  background:gray;
  color:white;
  position:relative;
}

.badge{
  position:fixed;
  bottom:15px;
  left:50%;
  transform:translateX(-50%);
  background:#ff4d88;
  color:white;
  padding:10px 20px;
  border-radius:20px;
  font-weight:bold;
  font-size: 10px;
}

.cards{
  display:none;
  padding:30px;
  text-align:center;
}

.card{
  display:inline-block;
  background:white;
  padding:20px;
  border-radius:12px;
  margin:10px;
  width:160px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.disabled{
  background:#eee;
  opacity:.5;
}

img.reaction{
  width:220px;
  border-radius:16px;
  margin-bottom:15px;
}

.gallery img{
  width:120px;
  height:120px;
  object-fit:cover;
  border-radius:12px;
}
/* modal */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  justify-content:center;
  align-items:center;
}
.modal-box{
  background:white;
  padding:20px;
  border-radius:16px;
  text-align:center;
  width:320px;
}
</style>
</head>

<body>

<div id="hearts"></div>

<!-- Proposal Page -->
<div class="center" id="proposal">
<img id="Img" class="reaction" src="./1.jpeg" alt="Love Gif" width="300">
<h1>Meri Cookko üíñ my love, Will you be my Valentine? üíñ</h1>

<img id="reactionImg" class="reaction" style="display:none;">

<div id="buttons">
<button class="yes" onclick="accept()">Yes ‚ù§Ô∏è</button>
<button class="no" id="noBtn">No üôà</button>
</div>
</div>


<!-- Cards Page -->
<div class="cards" id="cardsPage">
  
  
  <img id="Img" class="reaction" src="./4.jpeg" alt="Love Gif" width="300">
  <h1>Thank Youu for always being with me üíñüíñ</h1>
  
  <h2>Valentine Week üíò</h2>
  <div id="cardContainer"></div>
  <button class="yes" onclick="goBack()">‚¨Ö Back to Valentine Page</button>

  <div class="badge" id="countdown"></div>


<!-- Modal -->
<div id="dayModal" class="modal">
  <div class="modal-box">
  <img id="modalImg" style="width:100%;border-radius:12px;">
  <h2 id="modalTitle"></h2>
  <p id="modalText"></p>
  <button onclick="closeModal()">Close</button>
  </div>
  </div>
<!-- 
<h3>Memories üì∏</h3>
<input type="file" multiple accept="image/*" id="upload">
<div class="gallery" id="gallery"></div>
</div>

<div class="badge" id="countdown"></div> -->

<audio id="music" loop>
<source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3">
</audio>

<script>
  const heartContainer=document.getElementById("hearts");
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="‚ù§";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(20+Math.random()*30)+"px";
  h.style.animationDuration=(5+Math.random()*5)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),9000);
},500);


const reactionImages=[
"./2.jpeg","./3.jpeg","./5.jpeg","./6.jpeg"
];

let hoverCount=0;
const noBtn=document.getElementById("noBtn");
const reactionImg=document.getElementById("reactionImg");
const buttons=document.getElementById("buttons");

noBtn.addEventListener("mouseover",()=>{
hoverCount++;

if(hoverCount===3){
showReaction();
hoverCount=0;
return;
}

noBtn.style.position="absolute";
noBtn.style.top=Math.random()*80+"%";
noBtn.style.left=Math.random()*80+"%";
});

function showReaction(){
buttons.style.display="none";
reactionImg.style.display="block";

let i=0;
reactionImg.src=reactionImages[i];

const interval=setInterval(()=>{
i=Math.floor(Math.random()*reactionImages.length);
reactionImg.src=reactionImages[i];
},3000);

setTimeout(()=>{
clearInterval(interval);
reactionImg.style.display="none";
buttons.style.display="block";
},9000);
}

function accept(){
confetti({particleCount:150,spread:90});
document.getElementById("proposal").style.display="none";
document.getElementById("cardsPage").style.display="block";
document.getElementById("music").play();
}

function goBack(){
document.getElementById("proposal").style.display="flex";
document.getElementById("cardsPage").style.display="none";
}


function updateCountdown() {
  const now = new Date();
  let target = new Date(now.getFullYear(), 1, 14, 0, 0, 0); // Feb 14 at 00:00

  // If Feb 14 already passed this year, use next year
  if (now > target) {
    target = new Date(now.getFullYear() + 1, 1, 14, 0, 0, 0);
  }

  const diff = target - now; // difference in ms

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const minutes = Math.floor((diff / (1000 * 60)) % 60);
  const seconds = Math.floor((diff / 1000) % 60);

  document.getElementById("countdown").innerText =
    days + "d " + hours + "h " + minutes + "m " + seconds + "s until Feb 14 ‚ù§Ô∏è";

  if (diff <= 0) {
    document.getElementById("countdown").innerText = "Happy Valentine's Day ‚ù§Ô∏è";
  }
}

// Update every second
updateCountdown();
setInterval(updateCountdown, 1000);


/* Valentine week cards */
const week=[
["Rose Day","02-07","Bouquet of roses for my beautiful girl üåπ. Happy rose day my love","./88.jpeg"],
["Propose Day","02-08","I choose you forever üíç","./9.jpeg"],
["Chocolate Day","02-09","Life is sweeter with you üç´","./8.jpeg"],
["Teddy Day","02-10","A warm teddy hug üß∏","./12.jpeg"],
["Promise Day","02-11","I promise to stay ü§ù","./10.jpeg"],
["Hug Day","02-12","Big hug ü§ó","./11.jpeg"],
["Kiss Day","02-13","A little kiss üòò","./13.jpeg"],
["Valentine","02-14","Happy Valentine's ‚ù§Ô∏è","./14.jpeg"]
];

const container=document.getElementById("cardContainer");
const today=new Date();
const key=(today.getMonth()+1).toString().padStart(2,"0")+"-"+today.getDate().toString().padStart(2,"0");

week.forEach(d=>{
const div=document.createElement("div");
div.className="card";

if(d[1]>key) div.classList.add("disabled");

div.innerHTML=`<b>${d[0]}</b><br>${d[1]}`;

if(d[1]<=key){
div.onclick=()=>openDay(d);
}

container.appendChild(div);
});

/* modal functions */
function openDay(day){
dayModal.style.display="flex";
modalTitle.innerText=day[0];
modalText.innerText=day[2];
modalImg.src=day[3];
}

function closeModal(){
dayModal.style.display="none";
}
</script>

</body>
</html>
